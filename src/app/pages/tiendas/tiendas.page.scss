:host{ display:block; }
:host.reduced *{ animation:none !important; transition:none !important; }

.shops{
  position: relative;
  min-height: calc(100vh - 130px);
  margin-top: -85px;
  margin-bottom: -40px;
  padding: 2rem 4rem 3.2rem;

  overflow:hidden;
  contain: layout paint;

  background:
    radial-gradient(circle at 12% 16%, rgba(0,74,173,0.14), transparent 55%),
    radial-gradient(circle at 82% 78%, rgba(215,185,140,0.12), transparent 62%),
    radial-gradient(circle at 50% 120%, rgba(0,0,0,0.96), #050303 55%, #020202 100%),
    #020202;

  --sx: 50%;
  --sy: 35%;
}

/* BG */
.bg{ position:absolute; inset:0; pointer-events:none; z-index:0; overflow:hidden; }
.spot{
  position:absolute; inset:-20%;
  background: radial-gradient(circle at var(--sx) var(--sy), rgba(0,74,173,0.16), transparent 55%);
  filter: blur(10px);
  opacity: .95;
  mix-blend-mode: screen;
}
.lines{
  position:absolute; inset:-2px;
  background:
    linear-gradient(to right, rgba(215,185,140,0.05) 1px, transparent 1px),
    linear-gradient(to bottom, rgba(215,185,140,0.04) 1px, transparent 1px);
  background-size: 54px 54px;
  mask-image: radial-gradient(circle at 50% 26%, rgba(0,0,0,1), transparent 68%);
  opacity: .20;
}
.radar{
  position:absolute; inset:-40%;
  background: conic-gradient(from 210deg,
    transparent 0 65%,
    rgba(0,74,173,0.12) 72%,
    transparent 82%,
    rgba(215,185,140,0.08) 88%,
    transparent 100%);
  filter: blur(18px);
  opacity: .55;
  animation: radarSpin 10s linear infinite;
  mix-blend-mode: screen;
}
@keyframes radarSpin { to { transform: rotate(360deg); } }

.scan{
  position:absolute; inset:-30%;
  background: linear-gradient(180deg, transparent 35%, rgba(0,74,173,0.06) 50%, transparent 65%);
  opacity: .35;
  filter: blur(12px);
  animation: scanMove 6.8s ease-in-out infinite;
  mix-blend-mode: screen;
}
@keyframes scanMove{
  0%,100%{ transform: translateY(-6%); }
  50%{ transform: translateY(6%); }
}

.grain{
  position:absolute; inset:0; opacity:.12;
  background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='220' height='220'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.85' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='220' height='220' filter='url(%23n)' opacity='.35'/%3E%3C/svg%3E");
  mix-blend-mode: overlay;
}

/* Header */
.top{
  position:relative; z-index:1;
  display:flex; justify-content:space-between; align-items:center;
  margin-bottom: 1.2rem;
}
.back{
  color: rgba(245,238,226,0.88);
  text-decoration:none;
  padding:.55rem .85rem;
  border-radius: 12px;
  border:1px solid rgba(215,185,140,0.18);
  background: rgba(0,0,0,0.22);
  box-shadow: 0 18px 40px rgba(0,0,0,.45);
}
.badge{
  padding:.55rem 1.05rem;
  border-radius: 999px;
  border: 1px solid rgba(215,185,140,0.55);
  background: rgba(20,15,12,0.55);
  color: rgba(245,238,226,0.92);
  text-transform: uppercase;
  letter-spacing: .12em;
  font-weight: 950;
  font-size: .85rem;
}

/* Hero */
.hero{
  position:relative; z-index:1;
  max-width: 1180px;
  margin: 0 auto 1.2rem;
}
.title{
  margin:.15rem 0 .45rem;
  font-size: 3rem;
  line-height:1.05;
  color:#fff4db;
  filter: drop-shadow(0 0 28px rgba(215,185,140,.18));
}
.subtitle{
  color: rgba(245,238,226,0.84);
  font-size: 1.1rem;
  line-height: 1.65;
  max-width: 980px;
}

/* Search */
.search{
  margin-top: 1rem;
  display:flex;
  align-items:center;
  gap:.65rem;

  border: 1px solid rgba(215,185,140,0.14);
  background: rgba(0,0,0,0.24);
  border-radius: 14px;
  padding: .75rem .9rem;

  box-shadow: 0 18px 50px rgba(0,0,0,.52);
}
.search__icon{ color: rgba(215,185,140,0.9); font-weight: 950; }
.search__input{
  width: 100%;
  border: 0;
  outline: none;
  background: transparent;
  color: rgba(245,238,226,0.92);
  font-weight: 800;
}
.search__input::placeholder{ color: rgba(245,238,226,0.55); }

/* Filters */
.filters{
  margin-top: .9rem;
  display:flex; gap:.6rem; flex-wrap:wrap;
}
.chip{
  border: 1px solid rgba(215,185,140,0.14);
  background: rgba(0,0,0,0.18);
  color: rgba(245,238,226,0.88);
  padding: .55rem .8rem;
  border-radius: 999px;
  cursor:pointer;
  font-weight: 900;
  letter-spacing:.02em;
  transition: transform .2s ease, box-shadow .25s ease, border-color .25s ease, filter .25s ease;
}
.chip:hover{ transform: translateY(-1px); filter: brightness(1.03); }
.chip.is-active{
  border-color: rgba(0,74,173,0.30);
  box-shadow: 0 0 30px rgba(0,74,173,0.16), 0 0 40px rgba(215,185,140,0.08);
  background: rgba(10,8,7,0.45);
}

/* Shared pill/status */
.pill{
  display:inline-flex;
  padding: .45rem .8rem;
  border-radius: 999px;
  border: 1px solid rgba(215,185,140,0.22);
  background: rgba(0,0,0,0.20);
  color: rgba(245,238,226,0.90);
  text-transform: uppercase;
  letter-spacing:.08em;
  font-weight: 950;
  font-size: .78rem;
}
.status{
  padding: .38rem .7rem;
  border-radius: 999px;
  border: 1px solid rgba(215,185,140,0.16);
  color: rgba(215,185,140,0.92);
  background: rgba(0,0,0,0.18);
  font-weight: 900;
  font-size: .84rem;
  white-space: nowrap;
}
.status.prep{ border-color: rgba(245,238,226,0.16); color: rgba(245,238,226,0.85); }

/* List full width */
.list{
  position:relative; z-index:1;
  max-width: 1180px;
  margin: 1.15rem auto 0;
  display:flex;
  flex-direction: column;
  gap: 1rem;
}

/* Cards (distintas a gastro: edge glow blueprint) */
.card{
  width:100%;
  border-radius: 22px;
  padding: 1.15rem 1.15rem 1.05rem;
  cursor:pointer;
  text-align:left;

  border: 1px solid rgba(215,185,140,0.10);
  background: linear-gradient(180deg, rgba(26,15,10,0.82), rgba(18,10,6,0.75));
  box-shadow: 0 20px 60px rgba(0,0,0,0.62);

  position:relative;
  overflow:hidden;
  isolation:isolate;
  contain: layout paint;

  /* reveal init */
  opacity:0;
  transform: translateY(22px) scale(0.985);
  filter: blur(7px);

  transition:
    opacity .7s ease,
    transform 1s cubic-bezier(.19,1,.22,1),
    filter .7s ease,
    box-shadow .35s ease,
    border-color .35s ease;
}
.card.is-in{
  opacity:1;
  transform: translateY(0) scale(1);
  filter: blur(0);
}

.card__fx{
  position:absolute; inset:-1px;
  background:
    radial-gradient(circle at var(--sx) var(--sy), rgba(0,74,173,0.10), transparent 55%),
    radial-gradient(circle at 92% 80%, rgba(215,185,140,0.08), transparent 60%);
  opacity:.95;
  pointer-events:none;
}
.card__edge{
  position:absolute; inset:0;
  background: linear-gradient(135deg, rgba(0,74,173,0.14), rgba(215,185,140,0.10));
  opacity: 0;
  filter: blur(14px);
  transition: opacity .35s ease;
  pointer-events:none;
}

.card__row{
  position:relative; z-index:1;
  display:grid;
  grid-template-columns: minmax(0, 1.25fr) minmax(0, .75fr);
  gap: 1rem;
  align-items: start;
}

.card__top{ display:flex; justify-content:space-between; align-items:center; gap:.75rem; }

.card__title{
  margin:.85rem 0 .4rem;
  color:#fff4db;
  font-weight: 980;
  font-size: 1.5rem;
  overflow-wrap:anywhere;
}
.card__desc{
  margin:0 0 .85rem;
  color: rgba(245,238,226,0.80);
  line-height: 1.65;
  overflow-wrap:anywhere;
}
.card__cta{
  color: rgba(215,185,140,0.92);
  font-weight: 980;
  display:inline-flex; gap:.55rem; align-items:center;
}
.arrow{ transition: transform .2s ease; }

.perks{
  display:flex;
  flex-wrap: wrap;
  gap: .5rem;
  margin-top: .1rem;
}
.perk{
  padding: .38rem .6rem;
  border-radius: 999px;
  border: 1px solid rgba(0,74,173,0.16);
  background: rgba(0,0,0,0.16);
  color: rgba(245,238,226,0.84);
  font-weight: 850;
  font-size: .88rem;
}
.hint{
  margin-top: .8rem;
  color: rgba(245,238,226,0.65);
  font-weight: 800;
}

/* hover */
.card:hover{
  transform: translateY(-3px) scale(1.003);
  border-color: rgba(0,74,173,0.18);
  box-shadow: 0 30px 96px rgba(0,0,0,0.75), 0 0 110px rgba(0,74,173,0.10);
}
.card:hover .card__edge{ opacity: .9; }
.card:hover .arrow{ transform: translateX(4px); }

.empty{
  padding: 1rem 1.1rem;
  border-radius: 16px;
  border: 1px solid rgba(215,185,140,0.12);
  background: rgba(0,0,0,0.22);
  color: rgba(245,238,226,0.82);
  font-weight: 850;
}

/* Modal (blueprint) */
.modal-backdrop{
  position:fixed; inset:0;
  z-index: 9999;
  background: rgba(0,0,0,0.92);
  backdrop-filter: blur(10px);
  display:flex;
  align-items:center;
  justify-content:center;
  padding: 1.2rem;
  overflow:auto;
  animation: fade .22s ease both;
}
@keyframes fade{ from{opacity:0} to{opacity:1} }

.modal{
  width: min(980px, 92vw);
  border-radius: 16px;
  overflow:hidden;

  background: linear-gradient(180deg, rgba(10,8,7,0.72), rgba(0,0,0,0.40));
  border: 1px solid rgba(0,74,173,0.22);

  box-shadow: 0 0 60px rgba(0,74,173,0.16), 0 55px 160px rgba(0,0,0,0.92);
  animation: pop .28s cubic-bezier(.19,1,.22,1) both;
}
@keyframes pop{ from{transform:translateY(18px) scale(.97);opacity:0} to{transform:translateY(0) scale(1);opacity:1} }

.modal__top{
  display:flex; justify-content:space-between; align-items:center;
  padding: .95rem 1rem;
  border-bottom: 1px solid rgba(0,74,173,0.14);
}
.modal__title{ color: rgba(245,238,226,0.92); font-weight: 980; letter-spacing:.02em; }
.modal__x{
  width: 42px; height: 42px;
  border-radius: 12px;
  border: 1px solid rgba(0,74,173,0.18);
  background: rgba(0,0,0,0.28);
  color: rgba(245,238,226,0.92);
  cursor:pointer;
  transition: transform .2s ease, box-shadow .25s ease;
}
.modal__x:hover{ transform: translateY(-1px); box-shadow: 0 0 30px rgba(0,74,173,0.16); }

.modal__body{ padding: 1rem 1rem 1.25rem; }
.modal__meta{ display:flex; gap:.6rem; align-items:center; flex-wrap:wrap; }
.modal__text{ margin: .9rem 0 1rem; color: rgba(245,238,226,0.84); line-height:1.75; }
.perks--modal{ margin-top: .25rem; }

/* Responsive */
@media (max-width: 980px){
  .shops{ padding: 1.6rem 1.2rem 2.2rem; margin-top:-45px; }
  .title{ font-size: 2.35rem; }
  .card__row{ grid-template-columns: 1fr; }
}
