<!-- trabaja-con-nosotros.page.html -->
<section #pageRoot class="tcn-page">
  <div class="bg" aria-hidden="true">
    <div class="bg__glow"></div>
    <div class="bg__grain"></div>
    <div class="bg__lines"></div>
  </div>

  <!-- HERO -->
  <header #hero class="hero">
    <div class="hero__inner">
      <div class="hero__badge" data-anim="hero">
        <span class="dot" aria-hidden="true"></span>
        <span>Convocatoria</span>
        <span class="sep">‚Ä¢</span>
        <span>Enero ‚Üí Marzo</span>
      </div>

      <h1 class="hero__title" data-anim="hero">Trabaj√° con nosotros</h1>

      <p class="hero__subtitle" data-anim="hero">
        Sumate al equipo de Mercado Don Francisco. El proceso inicia en <b>enero</b> y finaliza en <b>marzo</b>:
        recepci√≥n de formularios, entrevistas y selecci√≥n.
      </p>

      <div class="hero__cta" data-anim="hero">
        <button type="button" class="btn btn--primary" (click)="downloadPdf()">
          <span class="btn__icon" aria-hidden="true">‚¨á</span>
          Descargar formulario (PDF)
          <span class="btn__arrow" aria-hidden="true">‚Üí</span>
          <span class="btn__shine" aria-hidden="true"></span>
        </button>

        <a class="btn btn--ghost" [href]="pdfUrl" target="_blank" rel="noopener">
          <span class="btn__icon" aria-hidden="true">üëÅ</span>
          Ver PDF
          <span class="btn__arrow" aria-hidden="true">‚Üó</span>
          <span class="btn__shine" aria-hidden="true"></span>
        </a>
      </div>

      <div class="hero__note" data-anim="hero" role="note">
        <div class="hero__note-ico" aria-hidden="true">i</div>
        <div>
          Tra√© el formulario completo a <b>Administraci√≥n</b> en Mercado Don Francisco.
          Si necesit√°s, pod√©s ver la ubicaci√≥n en el mapa.
        </div>
      </div>
    </div>

    <!-- CARD -->
    <aside class="hero__card" aria-label="Resumen del proceso">
      <div class="hero__card-top">
        <div class="stamp">PROCESO</div>
        <div class="mini">Enero ‚Ä¢ Febrero ‚Ä¢ Marzo</div>
      </div>

      <div class="hero__card-mid">
        <div class="line"></div>
        <div class="pill">3 etapas</div>
        <div class="line"></div>
      </div>

      <div class="hero__card-bot">
        <div class="kpi">
          <div class="kpi__num">01</div>
          <div class="kpi__label">Recepci√≥n</div>
        </div>
        <div class="kpi">
          <div class="kpi__num">02</div>
          <div class="kpi__label">Entrevistas</div>
        </div>
        <div class="kpi">
          <div class="kpi__num">03</div>
          <div class="kpi__label">Selecci√≥n</div>
        </div>
      </div>
    </aside>
  </header>

  <main #steps class="content">
    <!-- PROCESO -->
    <div class="section-head">
      <h2 class="section-title">C√≥mo es el proceso (Enero ‚Üí Marzo)</h2>
      <p class="section-subtitle">
        Durante estos meses se realiza la recepci√≥n de formularios, entrevistas y selecci√≥n final.
      </p>
    </div>

    <div class="steps" aria-label="Etapas del proceso">
      <article class="step-card" data-anim="phase">
        <div class="step-card__shine" aria-hidden="true"></div>
        <div class="step-card__top">
          <div class="step-num">ENERO</div>
          <div class="step-title">Recepci√≥n de formularios</div>
        </div>
        <p class="step-desc">
          Descarg√° el PDF, completalo con tus datos y entregalo en Administraci√≥n.
        </p>
        <div class="step-meta">
          <span class="chip chip--gold">Inicio</span>
          <span class="chip">Formulario completo</span>
        </div>
      </article>

      <article class="step-card" data-anim="phase">
        <div class="step-card__shine" aria-hidden="true"></div>
        <div class="step-card__top">
          <div class="step-num">FEBRERO</div>
          <div class="step-title">Entrevistas</div>
        </div>
        <p class="step-desc">
          Te contactamos para coordinar entrevista seg√∫n el √°rea seleccionada.
        </p>
        <div class="step-meta">
          <span class="chip chip--gold">Evaluaci√≥n</span>
          <span class="chip">Coordinaci√≥n</span>
        </div>
      </article>

      <article class="step-card step-card--highlight" data-anim="phase">
        <div class="step-card__shine" aria-hidden="true"></div>
        <div class="step-card__top">
          <div class="step-num">MARZO</div>
          <div class="step-title">Selecci√≥n</div>
        </div>
        <p class="step-desc">
          Se define la selecci√≥n final y se comunica a las personas elegidas.
        </p>
        <div class="step-meta">
          <span class="chip chip--gold">Cierre</span>
          <span class="chip">Comunicaci√≥n</span>
        </div>
      </article>
    </div>

    <!-- √ÅREAS -->
    <div class="section-head">
      <h2 class="section-title">√Åreas disponibles</h2>
      <p class="section-subtitle">
        Eleg√≠ el √°rea que mejor se adapte a tu perfil.
      </p>
    </div>

    <div class="steps" aria-label="√Åreas">
      <article class="step-card" *ngFor="let a of areas" data-anim="area">
        <div class="step-card__shine" aria-hidden="true"></div>

        <div class="step-card__top">
          <div class="step-num">{{ a.icon }}</div>
          <div class="step-title">{{ a.title }}</div>
        </div>

        <p class="step-desc">{{ a.desc }}</p>

        <div class="step-meta">
          <span class="chip" *ngFor="let t of a.tags">{{ t }}</span>
          <span class="chip chip--gold">Convocatoria Enero‚ÄìMarzo</span>
        </div>
      </article>
    </div>

    <!-- 3 PASOS -->
    <div class="section-head">
      <h2 class="section-title">Postulaci√≥n en 3 pasos</h2>
      <p class="section-subtitle">
        R√°pido, claro y sin vueltas. El formulario se entrega en Administraci√≥n.
      </p>
    </div>

    <div class="steps" aria-label="Pasos para postularse">
      <!-- Paso 1 -->
      <article class="step-card step-card--highlight">
        <div class="step-card__shine" aria-hidden="true"></div>
        <div class="step-card__top">
          <div class="step-num">01</div>
          <div class="step-title">Descarg√° el formulario (PDF)</div>
        </div>
        <p class="step-desc">
          Descargalo y guardalo en tu celular o computadora.
        </p>

        <div class="step-actions">
          <button type="button" class="btn btn--primary" (click)="downloadPdf()">
            <span class="btn__icon" aria-hidden="true">‚¨á</span>
            Descargar PDF
            <span class="btn__arrow" aria-hidden="true">‚Üí</span>
            <span class="btn__shine" aria-hidden="true"></span>
          </button>

          <a class="btn btn--ghost" [href]="pdfUrl" target="_blank" rel="noopener">
            <span class="btn__icon" aria-hidden="true">üëÅ</span>
            Ver PDF
            <span class="btn__arrow" aria-hidden="true">‚Üó</span>
            <span class="btn__shine" aria-hidden="true"></span>
          </a>

          <span class="hint"><span class="hint__dot"></span> Archivo: /pdf/form.pdf</span>
        </div>

        <div class="step-meta">
          <span class="chip chip--gold">Enero: recepci√≥n</span>
          <span class="chip">Formulario</span>
        </div>
      </article>

      <!-- Paso 2 -->
      <article class="step-card">
        <div class="step-card__shine" aria-hidden="true"></div>
        <div class="step-card__top">
          <div class="step-num">02</div>
          <div class="step-title">Imprimilo y rellenalo</div>
        </div>

        <p class="step-desc">
          Complet√° tus datos con letra clara. Si postul√°s a un √°rea espec√≠fica, indic√°lo.
        </p>

        <ul class="checklist" aria-label="Checklist de preparaci√≥n">
          <li><span class="check" aria-hidden="true">‚úì</span>Datos personales completos</li>
          <li><span class="check" aria-hidden="true">‚úì</span>√Årea de inter√©s (Gastronom√≠a / Administraci√≥n / Atenci√≥n)</li>
          <li><span class="check" aria-hidden="true">‚úì</span>Disponibilidad horaria</li>
        </ul>

        <div class="step-meta">
          <span class="chip">Impresi√≥n</span>
          <span class="chip chip--gold">Listo para entregar</span>
        </div>
      </article>

      <!-- Paso 3 -->
      <article class="step-card">
        <div class="step-card__shine" aria-hidden="true"></div>
        <div class="step-card__top">
          <div class="step-num">03</div>
          <div class="step-title">Traelo a Administraci√≥n</div>
        </div>

        <p class="step-desc">
          Entregalo en la oficina de administraci√≥n de Mercado Don Francisco.
        </p>

        <div class="address" aria-label="Direcci√≥n de entrega">
          <div class="address__row">
            <div class="pin" aria-hidden="true">üìç</div>
            <div>
              <div class="address__name">Mercado Don Francisco ‚Äî Administraci√≥n</div>
              <div class="address__note">Pod√©s abrir el mapa desde ac√° mismo.</div>
            </div>
          </div>
        </div>

        <div class="step-actions">
          <button type="button" class="btn btn--primary" (click)="abrirMapa()">
            <span class="btn__icon" aria-hidden="true">üó∫</span>
            Ver en Google Maps
            <span class="btn__arrow" aria-hidden="true">‚Üí</span>
            <span class="btn__shine" aria-hidden="true"></span>
          </button>

          <a class="btn btn--ghost" [href]="mapsExternalUrl" target="_blank" rel="noopener">
            <span class="btn__icon" aria-hidden="true">‚Üó</span>
            Abrir Maps
            <span class="btn__arrow" aria-hidden="true">‚Üó</span>
            <span class="btn__shine" aria-hidden="true"></span>
          </a>
        </div>

        <div class="step-meta">
          <span class="chip chip--gold">Entrega presencial</span>
          <span class="chip">Administraci√≥n</span>
        </div>
      </article>
    </div>

    <div class="footer-note" role="note">
      <div class="footer-note__icon" aria-hidden="true">‚òï</div>
      <div class="footer-note__text">
        <b>Importante:</b> el proceso inicia en <b>enero</b> y finaliza en <b>marzo</b>.
        Si tu formulario queda seleccionado, te contactaremos para <b>entrevista</b> durante febrero.
      </div>
    </div>
  </main>

  <!-- MODAL MAP -->
  <section
    #mapModal
    class="map-modal"
    [class.is-open]="modalState === 'open' || modalState === 'opening'"
    aria-hidden="{{ modalState === 'closed' || modalState === 'closing' ? 'true' : 'false' }}"
  >
    <div #modalOverlay class="map-modal__overlay" (click)="onOverlayClick()" aria-hidden="true"></div>

    <div
      #modalCard
      class="map-modal__card"
      tabindex="-1"
      role="dialog"
      aria-modal="true"
      aria-label="Ubicaci√≥n Mercado Don Francisco"
    >
      <div class="map-modal__head">
        <div>
          <div class="map-modal__title">Mercado Don Francisco</div>
          <div class="map-modal__subtitle">Oficina de Administraci√≥n</div>
        </div>

        <button type="button" class="icon-btn" (click)="cerrarMapa()" aria-label="Cerrar">
          ‚úï
        </button>
      </div>

      <div class="map-modal__body">
        <iframe
          class="map-embed"
          [src]="mapsEmbedUrl"
          loading="lazy"
          referrerpolicy="no-referrer-when-downgrade"
          allowfullscreen
          title="Google Maps ‚Äî Mercado Don Francisco"
        ></iframe>
      </div>

      <div class="map-modal__foot">
        <button type="button" class="btn btn--ghost" (click)="cerrarMapa()">
          <span class="btn__icon" aria-hidden="true">‚üµ</span>
          Cerrar
          <span class="btn__shine" aria-hidden="true"></span>
        </button>

        <a class="btn btn--primary" [href]="mapsExternalUrl" target="_blank" rel="noopener">
          <span class="btn__icon" aria-hidden="true">‚Üó</span>
          Abrir en Maps
          <span class="btn__arrow" aria-hidden="true">‚Üí</span>
          <span class="btn__shine" aria-hidden="true"></span>
        </a>
      </div>
    </div>
  </section>
</section>
