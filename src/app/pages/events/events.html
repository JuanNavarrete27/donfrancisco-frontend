<div class="events-page" [class.show]="animarEntrada">

  <!-- TÍTULO PRINCIPAL -->
  <header class="events-header">
    <h1 class="title-main">Eventos</h1>
    <p class="subtitle-main">Próximos encuentros y actividades pasadas del Mercado Don Francisco</p>
  </header>


  <!-- =====================================================
       PRÓXIMOS EVENTOS
  ====================================================== -->
  <section class="event-section">
    <h2 class="section-title">Próximos eventos</h2>

    <div class="event-grid">
      <div class="event-card" *ngFor="let evento of eventosProximos" (click)="abrirModal(evento)">

        <div class="event-image-wrapper" *ngIf="evento.imagen">
          <img [src]="evento.imagen" [alt]="evento.titulo" class="event-image" />
        </div>

        <div class="event-content">
          <h3 class="event-title">{{ evento.titulo }}</h3>
          <p class="event-date">{{ evento.fecha | date:'longDate' }}</p>
          <p class="event-desc">{{ evento.descripcion }}</p>
        </div>

      </div>
    </div>
  </section>



  <!-- =====================================================
       EVENTOS PASADOS
  ====================================================== -->
  <section class="event-section">
    <h2 class="section-title">Eventos finalizados</h2>

    <div class="event-grid">
      <div class="event-card past" *ngFor="let evento of eventosPasados" (click)="abrirModal(evento)">

        <div class="event-image-wrapper" *ngIf="evento.imagen">
          <img [src]="evento.imagen" [alt]="evento.titulo" class="event-image" />
        </div>

        <div class="event-content">
          <h3 class="event-title">{{ evento.titulo }}</h3>
          <p class="event-date">{{ evento.fecha | date:'longDate' }}</p>
          <p class="event-desc">{{ evento.descripcion }}</p>
        </div>

      </div>
    </div>
  </section>
<!-- Modal Overlay -->
<div 
  class="modal-overlay" 
  *ngIf="modalAbierto"
  [class.closing]="overlayClosing"
  (click)="cerrarModal()">
</div>

<!-- Modal Wrapper -->
<div class="modal-wrapper" *ngIf="modalAbierto">
  <div class="modal-content">
    <button class="modal-close" (click)="cerrarModal()">
      <span>&times;</span>
    </button>
    
    <h2 class="modal-title">{{ eventoActivo?.titulo }}</h2>
    <p class="modal-date">{{ eventoActivo?.fecha | date:'longDate' }}</p>
    
    <div class="modal-image-wrapper" *ngIf="eventoActivo?.imagen">
      <img [src]="eventoActivo.imagen" [alt]="eventoActivo.titulo" class="modal-image">
    </div>
    
    <p class="modal-desc">{{ eventoActivo?.descripcion }}</p>
  </div>
</div>

</div>
