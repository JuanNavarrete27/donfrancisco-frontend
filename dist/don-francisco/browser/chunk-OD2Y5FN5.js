import{c as A}from"./chunk-CAB75VVO.js";import{Ca as w,Da as O,Fb as k,Ha as a,Oa as x,Pb as I,Qb as N,Sa as M,Sb as S,T as g,U as v,Wa as f,a as C,ab as s,b as y,bb as o,cb as i,db as b,hb as u,ib as _,jb as l,pb as h,qb as c,rb as m,sb as P}from"./chunk-JDSQKFXL.js";function U(t,n){if(t&1&&(o(0,"div",12),b(1,"img",13),i()),t&2){let e=l().$implicit;a(),s("src",e.imagen,w)("alt",e.titulo)}}function Y(t,n){if(t&1){let e=u();o(0,"div",7),_("click",function(){let d=g(e).$implicit,p=l();return v(p.abrirModal(d))}),f(1,U,2,2,"div",8),o(2,"div",9)(3,"h2"),c(4),i(),o(5,"p",10),c(6),i(),o(7,"p",11),c(8),i()()()}if(t&2){let e=n.$implicit;a(),s("ngIf",e.imagen),a(3),m(e.titulo),a(2),m(e.fecha),a(2),m(e.autor)}}function T(t,n){if(t&1){let e=u();o(0,"div",14),_("click",function(){g(e);let d=l();return v(d.cerrarModal())}),i()}if(t&2){let e=l();h("closing",e.overlayClosing)}}function V(t,n){if(t&1&&(o(0,"div",22),b(1,"iframe",23),i()),t&2){let e=l(2);a(),s("src",e.novedadActiva==null?null:e.novedadActiva.safeVideoUrl,O)}}function D(t,n){if(t&1){let e=u();o(0,"div",15)(1,"div",16)(2,"button",17),_("click",function(){g(e);let d=l();return v(d.cerrarModal())}),c(3,"\u2715"),i(),o(4,"h2",18),c(5),i(),o(6,"p",19),c(7),i(),f(8,V,2,1,"div",20),o(9,"p",21),c(10),i()()()}if(t&2){let e=l();a(5),m(e.novedadActiva==null?null:e.novedadActiva.titulo),a(2),m(e.novedadActiva==null?null:e.novedadActiva.fecha),a(),s("ngIf",e.novedadActiva==null?null:e.novedadActiva.safeVideoUrl),a(2),P(" ",e.novedadActiva==null?null:e.novedadActiva.descripcion," ")}}var E=class t{constructor(n,e){this.sanitizer=n;this.cdr=e}novedades=[];animarEntrada=!1;modalAbierto=!1;novedadActiva=null;ngOnInit(){let n=[{id:1,titulo:"Inauguraci\xF3n del Horno de Barro",descripcion:`
          Esta semana finalizamos la construcci\xF3n del nuevo horno de barro artesanal,
          que ser\xE1 parte fundamental de la experiencia gastron\xF3mica del Mercado Don Francisco.
        `,imagen:"/images/horno.png",fecha:"2025-02-10",autor:"Creativo 360",videoUrl:"https://www.instagram.com/p/DR4u9Vnjats/embed/"}],e=["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"];this.novedades=n.map(r=>{let d=r.fecha.split("-"),p=new Date(Number(d[0]),Number(d[1])-1,Number(d[2])),z=`${p.getDate()} de ${e[p.getMonth()]} de ${p.getFullYear()}`;return y(C({},r),{fecha:z,safeVideoUrl:r.videoUrl?this.sanitizer.bypassSecurityTrustResourceUrl(r.videoUrl):void 0})}),setTimeout(()=>{this.animarEntrada=!0,this.cdr.detectChanges()},20)}abrirModal(n){this.novedadActiva=n,this.modalAbierto=!0,document.body.style.overflow="hidden",this.cdr.detectChanges()}overlayClosing=!1;cerrarModal(){this.overlayClosing=!0;let n=document.querySelector(".modal-content");n&&n.classList.add("closing"),setTimeout(()=>{this.modalAbierto=!1,this.novedadActiva=null,this.overlayClosing=!1;try{document.body.style.overflow="auto"}catch{}this.cdr.detectChanges()},250)}static \u0275fac=function(e){return new(e||t)(x(A),x(k))};static \u0275cmp=M({type:t,selectors:[["app-novedades"]],decls:8,vars:5,consts:[[1,"novedades-background"],[1,"novedades-container"],[1,"title"],[1,"novedades-list"],["class","novedad-card",3,"click",4,"ngFor","ngForOf"],["class","modal-overlay",3,"closing","click",4,"ngIf"],["class","modal-wrapper",4,"ngIf"],[1,"novedad-card",3,"click"],["class","novedad-img-wrapper",4,"ngIf"],[1,"novedad-content"],[1,"fecha"],[1,"autor"],[1,"novedad-img-wrapper"],[1,"novedad-img",3,"src","alt"],[1,"modal-overlay",3,"click"],[1,"modal-wrapper"],[1,"modal-content"],[1,"modal-close",3,"click"],[1,"modal-title"],[1,"modal-fecha"],["class","modal-video-wrapper",4,"ngIf"],[1,"modal-descripcion"],[1,"modal-video-wrapper"],["allowfullscreen","",3,"src"]],template:function(e,r){e&1&&(o(0,"div",0)(1,"div",1)(2,"h1",2),c(3,"NOTICIAS"),i(),o(4,"div",3),f(5,Y,9,4,"div",4),i()()(),f(6,T,1,2,"div",5)(7,D,11,4,"div",6)),e&2&&(h("show",r.animarEntrada),a(5),s("ngForOf",r.novedades),a(),s("ngIf",r.modalAbierto),a(),s("ngIf",r.modalAbierto))},dependencies:[S,I,N],styles:['@charset "UTF-8";[_nghost-%COMP%]{--cafe-bg-1: #2c1810;--cafe-bg-2: #3d241a;--cafe-text: #f5e6d3;--cafe-accent: #d7b98c;--cafe-accent-dark: #c2a175;--shadow-soft: 0 10px 25px rgba(0,0,0,.25);--shadow-deep: 0 18px 40px rgba(0,0,0,.45);--transition: .35s ease;--transition-fast: .22s ease;display:block;position:relative}.novedades-background[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--cafe-bg-1),var(--cafe-bg-2));padding:4rem 1.5rem;color:var(--cafe-text);position:relative;overflow:hidden;min-height:100vh;margin-top:-85px;margin-bottom:-35px;opacity:0;transform:translateY(25px);transition:all .75s ease}.novedades-background.show[_ngcontent-%COMP%]{opacity:1!important;transform:translateY(0)}.novedades-background[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background-image:radial-gradient(circle at 20% 30%,rgba(215,185,140,.18),transparent 70%),radial-gradient(circle at 80% 70%,rgba(215,185,140,.12),transparent 75%);opacity:.45;pointer-events:none}.novedades-container[_ngcontent-%COMP%]{max-width:900px;width:100%;margin:0 auto}.title[_ngcontent-%COMP%]{font-size:2.8rem;font-weight:800;text-align:center;letter-spacing:1px;color:var(--cafe-accent);text-transform:uppercase;margin-bottom:3rem;text-shadow:0 0 18px rgba(215,185,140,.4);animation:_ngcontent-%COMP%_fadeInUp .9s ease forwards}.novedades-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2.4rem}.novedad-card[_ngcontent-%COMP%]{background:#ffffff0d;border:1px solid rgba(215,185,140,.25);border-radius:14px;padding:1.2rem;-webkit-backdrop-filter:blur(6px);backdrop-filter:blur(6px);transition:var(--transition);box-shadow:var(--shadow-soft);display:flex;gap:1.2rem;align-items:center;transform:translateY(28px);opacity:0;animation:_ngcontent-%COMP%_fadeInCard .9s ease forwards;cursor:pointer}.novedad-card[_ngcontent-%COMP%]:hover{border-color:var(--cafe-accent);box-shadow:0 0 25px #d7b98c40;transform:translateY(-6px)}.novedad-img-wrapper[_ngcontent-%COMP%]{width:200px;aspect-ratio:16/10;border-radius:12px;overflow:hidden;background:#000;flex-shrink:0}.novedad-img-wrapper[_ngcontent-%COMP%]   .novedad-img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;transition:transform var(--transition-fast)}.novedad-card[_ngcontent-%COMP%]:hover   .novedad-img-wrapper[_ngcontent-%COMP%]   .novedad-img[_ngcontent-%COMP%]{transform:scale(1.06)}.novedad-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.35rem;font-weight:600;color:var(--cafe-accent);margin-bottom:.3rem}.novedad-content[_ngcontent-%COMP%]   .fecha[_ngcontent-%COMP%]{font-size:.95rem;opacity:.85;margin-bottom:.4rem}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#0000008c;-webkit-backdrop-filter:blur(6px);backdrop-filter:blur(6px);z-index:5000;animation:_ngcontent-%COMP%_fadeInOverlay .3s ease}.modal-wrapper[_ngcontent-%COMP%]{position:fixed;inset:0;z-index:5100;display:flex;justify-content:center;align-items:center;padding:1.5rem}.modal-content[_ngcontent-%COMP%]{position:relative;background:#ffffff0f;border:1px solid rgba(215,185,140,.25);border-radius:16px;padding:2rem;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);width:95%;max-width:650px;max-height:90vh;overflow-y:auto;box-shadow:var(--shadow-deep);color:var(--cafe-text);opacity:1;transform:scale(1) translateY(0);animation:_ngcontent-%COMP%_modalIn .25s ease-out}.modal-content.closing[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_modalOut .22s ease-out forwards}.modal-close[_ngcontent-%COMP%]{position:absolute;top:16px;right:18px;background:#0009;border:1px solid var(--cafe-accent);color:var(--cafe-accent);border-radius:50%;width:40px;height:40px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:var(--transition-fast);font-size:1.3rem;font-weight:700}.modal-close[_ngcontent-%COMP%]:hover{background:#d7b98c4d;color:#fff;transform:scale(1.08)}.modal-img[_ngcontent-%COMP%]{width:100%;max-height:260px;object-fit:cover;border-radius:12px;margin-bottom:1rem;box-shadow:0 0 18px #00000073}.modal-video-wrapper[_ngcontent-%COMP%]{position:relative;padding-top:56.25%;margin:1rem 0}.modal-video-wrapper[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{position:absolute;inset:0;width:100%;height:100%;border-radius:12px;border:none}.modal-descripcion[_ngcontent-%COMP%]{font-size:1.15rem;line-height:1.65;opacity:.98;margin-top:1rem;white-space:pre-line}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(25px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_fadeInOverlay{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_fadeInCard{0%{opacity:0;transform:translateY(35px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_modalIn{0%{opacity:0;transform:scale(.9) translateY(10px)}to{opacity:1;transform:scale(1) translateY(0)}}@keyframes _ngcontent-%COMP%_modalOut{0%{opacity:1;transform:scale(1) translateY(0)}to{opacity:0;transform:scale(.85) translateY(8px)}}@media(max-width:768px){.novedades-background[_ngcontent-%COMP%]{margin-top:-50px}.novedad-card[_ngcontent-%COMP%]{flex-direction:column;text-align:center}.novedad-img-wrapper[_ngcontent-%COMP%]{width:100%;aspect-ratio:4/3}.modal-content[_ngcontent-%COMP%]{padding:1.4rem}}.modal-content.closing[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_modalOut .22s ease forwards}@keyframes _ngcontent-%COMP%_modalOut{0%{opacity:1;transform:scale(1) translateY(0)}to{opacity:0;transform:scale(.9) translateY(10px)}}.modal-overlay.closing[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeOutOverlay .25s ease forwards}@keyframes _ngcontent-%COMP%_fadeOutOverlay{0%{opacity:1}to{opacity:0}}']})};export{E as NovedadesComponent};
